# ストリーク機能の実装

## 実装内容

連続記録日数を表示するストリーク機能を実装しました。

### データベース変更

- `User`モデルに以下を追加：
  - `streak`: Int（連続記録日数、デフォルト0）
  - `lastActiveDate`: String?（最後に活動を記録した日、YYYY-MM-DD形式）

### 機能

1. **自動更新**: 活動を作成すると、ストリークが自動的に更新されます
2. **連続判定**: 
   - 今日の活動で、最後の活動日が昨日の場合 → ストリーク+1
   - 最後の活動日が2日以上前の場合 → ストリークを1にリセット
   - 初めての活動の場合 → ストリークを1に設定
3. **表示**: ホームページに「連続◯日記録中🔥」を表示

### マイグレーション

マイグレーションは既に適用済みです：
- `20251210000001_add_streak_to_user`

### 注意事項

**Prisma Clientの再生成が必要です**：

開発サーバーを停止してから、以下を実行してください：

```bash
cd apps/api
npx prisma generate
```

その後、開発サーバーを再起動してください。

### 確認方法

1. 活動を作成
2. ホームページで「連続◯日記録中🔥」が表示されることを確認
3. 連続して活動を作成すると、ストリークが増えることを確認

